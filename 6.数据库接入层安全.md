# 数据库，接入层安全

标签： 数据库，MySQL

----

**Contents**

- [数据库接入层安全](#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8E%A5%E5%85%A5%E5%B1%82%E5%AE%89%E5%85%A8)
    - [数据库接入层安全](#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8E%A5%E5%85%A5%E5%B1%82%E5%AE%89%E5%85%A8)
        - [1.SQL注入](#1sql%E6%B3%A8%E5%85%A5)


----



## 数据库接入层安全

### 1.SQL注入
1.select * from table where id = ${id};
注入 1 or 1 = 1
就直接把所有的数据全部获取到了

2.用一些函数mid等可以获取版本，破解密码，删库删表，拖库等

3.防御：a.关闭错误输出，b.检查数据类型，c.对数据进行转义，d.使用参数化查询，e.使用ORM

### 2.文件上传
1.预防上传的文件被当成程序解析

#### 上传问题防御
    1.限制文件后缀
    2.文件类型检查
    3.文件内容检查
    4.程序输出
    5.权限控制，可写可执行互斥

